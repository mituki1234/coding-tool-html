<!DOCTYPE html>
<html>
  <head>
    <title>„Ç≥„Éº„Éâ„Ç®„Éá„Ç£„Çø„Éº</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Noto+Sans+JP&display=swap" rel="stylesheet">
    <!-- Import the syntax highlighter CSS -->
    <link rel="stylesheet" href="syntax-highlighter.css">
    <style>
      html, body {
        margin: 0;
        padding: 0;
        color: #333333;
        font-family: "Fira Code", monospace;
      }
      .container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100%;
        background-color: #f5f5f5;
      }
      .menubar {
        height: 30px;
        width: 100%;
        background-color: #e0e0e0;
        display: flex;
        align-items: center;
        padding: 0 15px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      }
      .menubar span {
        margin-right: 20px;
        cursor: pointer;
      }
      .content {
        display: flex;
        flex: 1;
        height: calc(100vh - 90px);
      }
      .sidebar {
        width: 200px;
        background-color: #f0f0f0;
        border-right: 1px solid #ddd;
        overflow-y: auto;
      }
      .file-item {
        padding: 8px 15px;
        cursor: pointer;
        border-bottom: 1px solid #eee;
      }
      .file-item:hover {
        background-color: #e5e5e5;
      }
      .file-item.active {
        background-color: #ddd;
      }
      .folder {
        font-weight: bold;
      }
      .file-content {
        margin-left: 15px;
      }
      .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .filename-cards {
        width: 100%;
        height: 30px;
        display: flex;
        align-items: center;
        background-color: #e8e8e8;
        border-bottom: 1px solid #ddd;
        overflow-x: auto;
      }
      .filename-card {
        background-color: #f5f5f5;
        height: 100%;
        padding: 0 20px;
        display: flex;
        align-items: center;
        border-right: 1px solid #ddd;
        white-space: nowrap;
      }
      .filename-card.active {
        background-color: #fff;
        border-bottom: 2px solid #4285f4;
      }
      .editarea {
        flex: 1;
        display: flex;
        background-color: #fff;
        position: relative;
      }
      .edittext {
        height: 100%;
        width: 100%;
        overflow-y: auto;
        padding: 0;
        position: relative;
      }
      .textarea-container {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
      }
      .line-numbers {
        background: #f5f5f5;
        color: #999;
        text-align: right;
        padding: 10px 5px;
        margin: 0;
        user-select: none;
        min-width: 40px;
        border-right: 1px solid #ddd;
      }
      .code-editor {
        flex: 1;
        margin: 0;
        padding: 10px;
        border: none;
        resize: none;
        font-family: "Fira Code", monospace;
        font-size: 14px;
        line-height: 1.5;
        white-space: pre;
        tab-size: 4;
        overflow-y: auto;
        color: #333;
        background-color: #fff;
      }
      .code-editor:focus {
        outline: none;
      }
      /* The highlighter overlay that will be populated by our extension */
      .highlighter {
        position: absolute;
        pointer-events: none;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        white-space: pre;
        font-family: "Fira Code", monospace;
        font-size: 14px;
        line-height: 1.5;
        color: transparent;
        overflow: hidden;
      }
      .file-import {
        padding: 10px;
        background-color: #f0f0f0;
        border-bottom: 1px solid #ddd;
        display: flex;
        align-items: center;
      }
      .file-import label {
        display: inline-block;
        padding: 6px 12px;
        cursor: pointer;
        background-color: #4285f4;
        color: white;
        border-radius: 4px;
        margin-right: 10px;
      }
      .button {
        display: inline-block;
        padding: 6px 12px;
        cursor: pointer;
        color: white;
        border-radius: 4px;
        margin-right: 10px;
        border: none;
      }
      .export-btn {
        background-color: #34a853;
      }
      .save-btn {
        background-color: #fbbc05;
      }
      .button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
      }
      .file-import input[type="file"] {
        display: none;
      }
      .file-import-info {
        display: inline-block;
        font-size: 0.9em;
        color: #666;
        flex: 1;
      }
      .status-bar {
        height: 25px;
        background-color: #e0e0e0;
        border-top: 1px solid #ddd;
        display: flex;
        align-items: center;
        padding: 0 10px;
        font-size: 12px;
        color: #666;
        justify-content: space-between;
      }
      .status-info {
        display: flex;
        align-items: center;
      }
      .status-indicator {
        margin-left: 15px;
      }
      .status-indicator.modified {
        color: #fbbc05;
      }
      .status-indicator.saved {
        color: #34a853;
      }
      .file-type-icon {
        margin-right: 5px;
        font-size: 0.8em;
      }
      .html-icon::before { content: "üìÑ"; }
      .css-icon::before { content: "üé®"; }
      .js-icon::before { content: "üìú"; }
      .folder-icon::before { content: "üìÅ"; }
      .text-icon::before { content: "üìù"; }
      .image-icon::before { content: "üñºÔ∏è"; }
      
      /* Modal styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
      }
      .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        padding: 20px;
        border-radius: 5px;
        width: 50%;
        max-width: 500px;
      }
      .close-modal {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }
      .close-modal:hover {
        color: black;
      }
      .modal h3 {
        margin-top: 0;
      }
      .export-options {
        margin: 15px 0;
      }
      .export-options label {
        display: block;
        margin: 10px 0;
      }
      .dropdown-menu {
        position: absolute;
        display: none;
        background-color: white;
        border: 1px solid #ddd;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        z-index: 100;
        min-width: 150px;
      }
      .dropdown-item {
        padding: 8px 15px;
        cursor: pointer;
      }
      .dropdown-item:hover {
        background-color: #f5f5f5;
      }
      .tooltip {
        position: fixed;
        background-color: rgba(0,0,0,0.8);
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 12px;
        z-index: 1000;
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="tooltip" class="tooltip"></div>
    <div class="container">
      <div class="menubar">
        <span id="file-menu">„Éï„Ç°„Ç§„É´</span>
        <span id="edit-menu">Á∑®ÈõÜ</span>
        <span id="view-menu">Ë°®Á§∫</span>
        <span id="help-menu">„Éò„É´„Éó</span>
        <div id="file-dropdown" class="dropdown-menu">
          <div class="dropdown-item" id="menu-open-folder">„Éï„Ç©„É´„ÉÄ„ÇíÈñã„Åè</div>
          <div class="dropdown-item" id="menu-save">‰øùÂ≠ò (Ctrl+S)</div>
          <div class="dropdown-item" id="menu-export">„Ç®„Ç≠„Çπ„Éù„Éº„Éà</div>
        </div>
      </div>
      <div class="file-import">
        <label for="directory-input">„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÈñã„Åè</label>
        <input type="file" id="directory-input" webkitdirectory directory multiple>
        <button id="save-btn" class="button save-btn" disabled>‰øùÂ≠ò</button>
        <button id="export-btn" class="button export-btn" disabled>„Ç®„Ç≠„Çπ„Éù„Éº„Éà</button>
        <span class="file-import-info" id="file-import-info">„Éï„Ç©„É´„ÉÄ„Çí„Ç§„É≥„Éù„Éº„Éà„Åó„Å¶„Åè„Å†„Åï„ÅÑ</span>
      </div>
      <div class="content">
        <div class="sidebar" id="file-sidebar">
          <!-- Files will be loaded here -->
        </div>
        <div class="main-content">
          <div class="filename-cards" id="tabs">
            <!-- Active file tabs will be shown here -->
          </div>
          <div class="editarea">
            <div class="edittext" id="editor">
              <div class="textarea-container">
                <div class="line-numbers" id="line-numbers"></div>
                <textarea class="code-editor" id="code-editor" spellcheck="false"></textarea>
                <div class="highlighter" id="syntax-highlighter"></div>
              </div>
            </div>
          </div>
          <div class="status-bar">
            <div class="status-info">
              <span id="cursor-position">Ë°å: 1, Âàó: 1</span>
              <span id="file-status" class="status-indicator"></span>
            </div>
            <div class="status-info">
              <span id="date-display">2025-04-11 01:39:36</span>
              <span id="username-display" style="margin-left: 10px;">mituki1234</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Export Modal -->
    <div id="export-modal" class="modal">
      <div class="modal-content">
        <span class="close-modal" id="close-modal">&times;</span>
        <h3>„Ç®„Ç≠„Çπ„Éù„Éº„Éà„Éª„Ç™„Éó„Ç∑„Éß„É≥</h3>
        <div class="export-options">
          <label>
            <input type="radio" name="export-type" value="zip" checked> ZIP„Éï„Ç°„Ç§„É´„Å®„Åó„Å¶ÂÖ®„Éï„Ç°„Ç§„É´„Çí„Ç®„Ç≠„Çπ„Éù„Éº„Éà
          </label>
          <label>
            <input type="radio" name="export-type" value="current"> ÁèæÂú®Èñã„ÅÑ„Å¶„ÅÑ„Çã„Éï„Ç°„Ç§„É´„ÅÆ„Åø„Ç®„Ç≠„Çπ„Éù„Éº„Éà
          </label>
        </div>
        <button id="confirm-export" class="button export-btn">„Ç®„Ç≠„Çπ„Éù„Éº„Éà</button>
      </div>
    </div>

    <!-- Main Script -->
    <script src="main.js"></script>
    
    <!-- Syntax Highlighter Extensions for JS, HTML, and CSS -->
    <script src="js-highlighter.js"></script>
    <script src="html-highlighter.js"></script>
    <script src="css-highlighter.js"></script>
  </body>
</html>
